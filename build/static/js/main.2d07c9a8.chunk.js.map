{"version":3,"sources":["services/contacts.js","components/Contacts.js","components/ContactForm.js","components/Filter.js","components/Notification.js","App.js","serviceWorker.js","index.js"],"names":["baseUrl","services_contacts","axios","get","then","response","data","newObject","post","id","put","concat","delete","Contacts","_ref","contacts","handleDelete","react_default","a","createElement","map","contact","key","name","number","onClick","ContactForm","props","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","filterContacts","Notification","message","console","log","style","color","borderStyle","borderRadius","font","padding","margin","App","_useState","useState","_useState2","Object","slicedToArray","setContacts","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","filteredContacts","setFilteredContacts","_useState9","_useState10","setMessage","_useState11","_useState12","messageType","setMessageType","getAllContacts","contactService","initialContacts","catch","error","notify","action","setTimeout","useEffect","components_Notification","components_Filter","event","filter","target","toUpperCase","indexOf","components_ContactForm","preventDefault","lastId","length","find","undefined","window","confirm","returnedContact","arr","components_Contacts","Boolean","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2d07c9a8.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\n// change this if not working\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    update: update,\n    remove: remove\n}","import React from 'react'\n\nconst Contacts = ({ contacts, handleDelete }) => {\n  return (\n    <div>\n      {contacts.map((contact) => {\n        return (\n          <p key={contact.name}>\n            {contact.name} {contact.number}  <button\n              onClick={\n                () => handleDelete(\n                  contact.id,\n                  contact.name)}>\n              Delete\n            </button>\n\n          </p>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Contacts","import React from 'react'\n\nconst ContactForm = (props) => {\n    return (\n      <div>\n        <form onSubmit={props.addName}>\n          <div>\n            name: <input value={props.newName} onChange={props.handleNameChange} />\n          </div>\n          <div>\n            number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n  \n    )\n  }\n\n  export default ContactForm","import React from 'react'\n\nconst Filter = ({ filterContacts }) => {\n    return (\n      <div>\n        filter people: <input onChange={filterContacts} />\n      </div>\n    )\n  }\n  \n  export default Filter","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    const successStyle = {\n      color: 'green',\n      borderStyle: 'solid',\n      borderRadius: 5,\n      font: 25,\n      padding: 5,\n      margin: 5\n    }\n  \n    const errorStyle = {\n      color: 'red',\n      borderStyle: 'solid',\n      borderRadius: 5,\n      font: 25,\n      padding: 5,\n      margin: 5\n    }\n  \n    if (message === null) {\n      return null\n    } else if (type === 'error') {\n      console.log('Error!')\n      return (\n        <div style={errorStyle}>\n          {message}\n        </div>\n      )\n    } else {\n      return (\n        <div style={successStyle}>\n          {message}\n        </div>\n      )\n    }\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport contactService from './services/contacts'\nimport Contacts from './components/Contacts'\nimport ContactForm from './components/ContactForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [contacts, setContacts] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filteredContacts, setFilteredContacts] = useState(contacts)\n  const [message, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState()\n\n  const getAllContacts = () => {\n    contactService\n      .getAll()\n      .then(initialContacts => {\n        setContacts(initialContacts)\n        setFilteredContacts(initialContacts)\n        setNewName('')\n        setNewNumber('')\n      }).catch(error => {\n        setMessageType('error')\n        setMessage('Error: couldn\\'t retrieve phonenbook', error)\n      })\n  }\n\n  const notify = (type, action, name) => {\n    if (type === 'success') {\n      setMessageType('success')\n      switch (action) {\n        case 'add':\n          setMessage(`Added ${name}`)\n          break;\n        case 'update':\n          setMessage(`Updated ${name}'s number`)\n          break;\n        case 'delete':\n          setMessage(`Deleted ${name}`)\n          break;\n        default:\n      }\n    } else {\n      setMessageType('error')\n      setMessage(`Error: ${name} has already been deleted from server`)\n    }\n    setTimeout(() => {\n      setMessage(null)\n      setMessageType(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    getAllContacts()\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const lastId = contacts[contacts.length - 1].id\n    const contact = contacts.find(contact => contact.name === newName)\n\n\n    if (contact !== undefined) {\n      // update\n      if (window.confirm(`Contact ${newName} exists already,\n       replace the old number with a new one?`)) {\n        contactService\n          .update(contact.id, { name: newName, number: newNumber, id: contact.id })\n          .then(() => {\n            getAllContacts()\n            setNewName('')\n            setNewNumber('')\n            notify('success', 'update', newName)\n          })\n          .catch(error => {\n            notify('error', 'update', newName)\n            getAllContacts()\n          })\n      }\n    } else {\n      // add new\n      contactService\n        .create({ name: newName, number: newNumber, id: lastId + 1 })\n        .then(returnedContact => {\n          const arr = contacts.concat(returnedContact)\n          setContacts(arr)\n          setFilteredContacts(arr)\n          setNewName('')\n          setNewNumber('')\n          notify('success', 'add', newName)\n        })\n        .catch(error => {\n          notify('error', 'add', newName)\n          getAllContacts()\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filterChange = (filter) => {\n    setFilteredContacts(contacts.filter(contact => contact.name.toUpperCase()\n      .indexOf(filter.toUpperCase()) > -1))\n  }\n\n  const filterContacts = (event) => {\n    filterChange(event.target.value)\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      contactService\n        .remove(id)\n        .then(() => {\n          contactService\n            .getAll()\n            .then(contacts => {\n              const arr = contacts\n              setContacts(arr)\n              setFilteredContacts(arr)\n              notify('success', 'delete', name)\n            })\n        })\n        .catch(error => {\n          notify('error', 'delete', name)\n          getAllContacts()\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} type={messageType} />\n      <Filter filterContacts={filterContacts} />\n      <h2>Add a new contact</h2>\n      <ContactForm\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} />\n      <h2>Contacts</h2>\n      <Contacts contacts={filteredContacts} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}